(()=>{var i=class{constructor(){this._subscribers=[]}subscribe(t){this._subscribers.push(t)}publish(...t){for(let r of this._subscribers)r(...t)}};function a(){return new Subscriber}var n=class extends i{constructor(t=[]){super(),this._internal=[];for(let r of t)this.push(r)}_makeSubscriberFunc(t){return(r,e=null)=>{this.publish(r,e?`${t}.${e}`:`${t}`)}}_makeAndSubscribe(t,r){let e=c(t);return e.subscribe(this._makeSubscriberFunc(r)),e}static(){return this._internal.map(t=>t.static())}push(t){let r=this._internal.length,e=this._makeAndSubscribe(t,r);this._internal.push(e),this.publish(t,`${r}`)}};function b(s){return new n(s)}var o=class extends i{constructor(t={}){super(),this._internal={};for(let r in t)this.set(r,t[r])}_makeSubscriberFunc(t){return(r,e=null)=>{this.publish(r,e?`${t}.${e}`:t)}}_makeAndSubscribe(t,r){let e=c(t);return e.subscribe(this._makeSubscriberFunc(r)),e}static(){let t={};for(let r in this._internal)t[r]=this._internal[r].static()}set(t,r){if(this._internal[t]!==void 0)this._internal[t].set(r);else{let e=this._makeAndSubscribe(r,t);this._internal[t]=e,this.publish(r,t)}}get(t){return this._internal[t]}};function f(s){return new o(s)}function c(s){return typeof s=="object"?Array.isArray(s)?new n(s):new o(s):new u(s)}var u=class extends i{constructor(t){super(),this._value=t}get(){return this._value}set(t){this._value=t,this.publish(this._value)}static(){return this._value}};function p(s){return new u(s)}})();
//# sourceMappingURL=index.js.map
